+------------------------------+
|            Start             |
+------------------------------+
              |
              v
+------------------------------+
| Receive User Request         |
| (POST /analyze)              |
+------------------------------+
              |
              v
+------------------------------+
| Parse Request for Sentence   |
+------------------------------+
              |
              v
+------------------------------+
| Extract Crop and Region and  |
| Time period using NLP        |
+------------------------------+
              |
              v
+------------------------------+
| Check Context Cache for      |
| Existing Session             |
+------------------------------+
              |
              v
+------------------------------+
| Context Exists?              |
+------------------------------+
    |           |
    |           v
    |   +----------------------+
    |   |  No                  |-------
    |   |  Create New Context  |      |
    |   +----------------------+      |
    v                                 |
+------------------------------+      |
|  Yes                         |      |
|  Use Existing Context        |      |
+------------------------------+      |
              |                       |
              v                       |
+-------------------------------+     |
| Generate Prompt for Vertex AI |<-----
+-------------------------------+
              |
              v
+------------------------------+
| Send Prompt to Vertex AI     |
| Model                        |
+------------------------------+
              |
              v
+------------------------------+
| Receive Response from        |
| Vertex AI                    |
+------------------------------+
              |
              v
+------------------------------+
| Update or Store Context      |
| in Cache                     |
+------------------------------+
              |
              v
+------------------------------+
| Return Response to User      |
+------------------------------+
              |
              v
+------------------------------+
|            End               |
+------------------------------+
